<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Stoplicht4.html</title>
</head>

<body background="./verkeer/kruising.png";>

    <form>
        <h1>Stoplicht4.html</h1>
        <p>Automatisch werkend stoplicht.</p>
        <p>Druk op de juiste knop (maar één keer drukken!)</p>
        <input type="button" value="aanzetten" onclick="aanzetten()">
        <input type="button" value="knipperen" onclick="knipperen()">
        <input type="button" value="uitzetten" onclick="uitzetten()">  
        <img id="stoplicht" src="./verkeer/stoplichtuit.png"; width="20px" height="40px">
    </form>

    <script>
        var werken 
        var buitenwerking
        var stoplicht = document.getElementById("stoplicht");
        stoplicht.style.position = "absolute";
        stoplicht.style.left = "715px";
        stoplicht.style.top = "510px";

        function aanzetten(){
            clearTimeout(buitenwerking);
            maakRood();
            werken = setTimeout (maakGroen, 4000);
            werken = setTimeout (maakOranje, 8000);
            werken = setTimeout (maakGroen, 10000);
        }

        function knipperen(){
            clearTimeout(werken);
            maakOranje();
            buitenwerking = setTimeout(zetUit, 500);
            buitenwerking = setTimeout(knipperen, 1000);
        }

        function uitzetten(){
            zetUit();
            clearTimeout(buitenwerking);
            clearTimeout(werken);
        }

        function maakRood(){
                stoplicht.src = "./verkeer/stoplichtrood.png";
            }

            function maakOranje(){
                stoplicht.src = "./verkeer/stoplichtgeel.png";
            }

            function maakGroen(){
                stoplicht.src = "./verkeer/stoplichtgroen.png";
            }

            function zetUit(){
                stoplicht.src = "./verkeer/stoplichtuit.png";
            }
    
    </script>
</body>
</html>